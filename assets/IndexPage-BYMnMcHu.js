import{c as M,g as Q,f as c,a as _,h as q,e as C,j as H,D as I,r as x,o as L,F as k,I as F,J as S,K as G,L as P,S as z,N as T}from"./index-BsU6Gqrf.js";import{h as K}from"./render-C97wsMHu.js";const E=M({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:i}){const{proxy:{$q:o}}=Q(),n=C(H,c);if(n===c)return console.error("QPage needs to be a deep child of QLayout"),c;if(C(I,c)===c)return console.error("QPage needs to be child of QPageContainer"),c;const u=_(()=>{const e=(n.header.space===!0?n.header.size:0)+(n.footer.space===!0?n.footer.size:0);if(typeof t.styleFn=="function"){const m=n.isContainer.value===!0?n.containerHeight.value:o.screen.height;return t.styleFn(e,m)}return{minHeight:n.isContainer.value===!0?n.containerHeight.value-e+"px":o.screen.height===0?e!==0?`calc(100vh - ${e}px)`:"100vh":o.screen.height-e+"px"}}),d=_(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>q("main",{class:d.value,style:u.value},K(i.default))}}),A="ABCDEFGHIJKLMNOPQRSTUVWXYÆØÅ".split("");function N(t){const i="/PocketGames/",o=x(0),n=x(0);let a="",u=[],d=[],e=null;const m=new Audio(i+"/sounds/correct.wav"),$=new Audio(i+"/sounds/fail.mp3");let g=null;function b(){return A[Math.floor(Math.random()*A.length)]??"A"}function B(r){const s=new Set;for(s.add(r.toLowerCase());s.size<5;)s.add(String.fromCharCode(97+Math.floor(Math.random()*26)));return Array.from(s).sort(()=>Math.random()-.5)}function p(){if(!e||!t.value)return;const r=t.value;e.clearRect(0,0,r.width,r.height),e.font="80px Arial",e.fillStyle="black",e.textAlign="center",e.fillText(a,r.width/2,80),e.font="20px Arial",e.textAlign="right",e.fillStyle="blue",e.fillText(`Poeng: ${o.value}`,r.width-10,30),e.textAlign="left",e.fillStyle="red",e.fillText(`Feil: ${n.value}`,10,30),e.font="40px Arial",e.fillStyle="black",e.textAlign="center",d=[],u.forEach((s,h)=>{const f=50+h*70,l=200;d.push({x:f,y:l,letter:s}),e?.fillText(s,f,l)}),g=requestAnimationFrame(p)}function v(){a=b(),u=B(a),p()}function y(r){if(!t.value)return;const s=t.value.getBoundingClientRect(),h=r.clientX-s.left,f=r.clientY-s.top;d.forEach(l=>{h>l.x-20&&h<l.x+20&&f>l.y-40&&f<l.y+10&&(l.letter===a.toLowerCase()?(o.value++,setTimeout(v,500),m.play()):($.play(),n.value++))})}const w=()=>{t.value&&(t.value.width=window.innerWidth*.8,t.value.height=window.innerHeight*.6,p())};return L(()=>{if(!t.value)return;const r=t.value;e=r.getContext("2d"),e&&(w(),window.addEventListener("resize",w),r.addEventListener("click",y),v())}),k(()=>{window.removeEventListener("resize",w),t.value&&t.value.removeEventListener("click",y),g!==null&&cancelAnimationFrame(g)}),{score:o,mistakes:n,startGame:v}}const j=F({__name:"GameBoard",setup(t){const i=x(null),o=N(i),n=()=>{const a=i.value;a&&(a.width=window.innerWidth*.8,a.height=window.innerHeight*.6)};return L(()=>{n(),window.addEventListener("resize",n),o.startGame()}),k(()=>{window.removeEventListener("resize",n)}),(a,u)=>(G(),S(E,{class:"fle x"},{default:P(()=>[z("canvas",{ref_key:"canvasRef",ref:i},null,512)]),_:1}))}}),O=(t,i)=>{const o=t.__vccOpts||t;for(const[n,a]of i)o[n]=a;return o},V=O(j,[["__scopeId","data-v-02812a23"]]),W={class:"q-ma-xl q-pb-xl"},D=F({__name:"IndexPage",setup(t){return(i,o)=>(G(),S(E,{class:"row justify-evenly"},{default:P(()=>[z("div",W,[T(V)])]),_:1}))}});export{D as default};
