import{c as j,g as V,f as h,a as I,h as X,e as z,j as Y,D,r as S,o as M,F as T,I as $,J as E,K as H,L as Q,S as q,N as J}from"./index-Do129xCK.js";import{h as U}from"./render-DP53jXYu.js";const K=j({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(t,{slots:r}){const{proxy:{$q:a}}=V(),n=z(Y,h);if(n===h)return console.error("QPage needs to be a deep child of QLayout"),h;if(z(D,h)===h)return console.error("QPage needs to be child of QPageContainer"),h;const u=I(()=>{const e=(n.header.space===!0?n.header.size:0)+(n.footer.space===!0?n.footer.size:0);if(typeof t.styleFn=="function"){const w=n.isContainer.value===!0?n.containerHeight.value:a.screen.height;return t.styleFn(e,w)}return{minHeight:n.isContainer.value===!0?n.containerHeight.value-e+"px":a.screen.height===0?e!==0?`calc(100vh - ${e}px)`:"100vh":a.screen.height-e+"px"}}),f=I(()=>`q-page${t.padding===!0?" q-layout-padding":""}`);return()=>X("main",{class:f.value,style:u.value},U(r.default))}}),B="ABCDEFGHIJKLMNOPQRSTUVWXYÆØÅ".split("");function Z(t){const r="/PocketGames/",a=S(0),n=S(0);let i="",u=[],f=[],e=null;const w=new Audio(r+"/sounds/correct.wav"),N=new Audio(r+"/sounds/fail.mp3");let v=null;function F(){return B[Math.floor(Math.random()*B.length)]??"A"}function O(o){const l=new Set;l.add(o.toLowerCase());const s=Math.floor(a.value/20)*5,d=Math.min(5+s,25);for(;l.size<d;)l.add(F().toLowerCase());return Array.from(l).sort(()=>Math.random()-.5)}function x(){if(!e||!t.value)return;const o=t.value;e.clearRect(0,0,o.width,o.height),m&&(e.strokeStyle=m,e.lineWidth=10,e.strokeRect(0,0,o.width,o.height)),e.font="80px Arial",e.fillStyle="black",e.textAlign="center",e.fillText(i,o.width/2,80),e.font="20px Arial",e.textAlign="right",e.fillStyle="blue",e.fillText(`Poeng: ${a.value}`,o.width-10,30),e.textAlign="left",e.fillStyle="red",e.fillText(`Feil: ${n.value}`,10,30),e.font="40px Arial",e.fillStyle="black",e.textAlign="center";const l=u.length,s=5,d=Math.ceil(l/s),c=70;f=[];for(let g=0;g<d;g++){const L=g*s,k=Math.min(L+s,l)-L;if(k===0)continue;const W=o.width/(k+1);for(let p=0;p<k;p++){const P=W*(p+1),G=200+g*c,A=u[L+p];A&&(f.push({x:P,y:G,letter:A}),e.fillText(A,P,G))}}v=requestAnimationFrame(x)}function y(){i=F(),u=O(i),x()}let m=null,_=null;function b(o){if(!t.value)return;const l=t.value.getBoundingClientRect(),s=o.clientX-l.left,d=o.clientY-l.top;f.forEach(c=>{s>c.x-20&&s<c.x+20&&d>c.y-40&&d<c.y+10&&(c.letter===i.toLowerCase()?(a.value++,m="rgba(0, 255, 0, 0.5)",w.play(),setTimeout(y,200)):(n.value++,m="rgba(255, 0, 0, 0.5)",N.play()),_&&clearTimeout(_),_=setTimeout(()=>{m=null},300))})}const C=()=>{t.value&&(t.value.width=window.innerWidth*.8,t.value.height=window.innerHeight*.6,x())};return M(()=>{if(!t.value)return;const o=t.value;e=o.getContext("2d"),e&&(C(),window.addEventListener("resize",C),o.addEventListener("click",b),y())}),T(()=>{window.removeEventListener("resize",C),t.value&&t.value.removeEventListener("click",b),v!==null&&cancelAnimationFrame(v)}),{score:a,mistakes:n,startGame:y}}const R=$({__name:"GameBoard",setup(t){const r=S(null),a=Z(r),n=()=>{const i=r.value;i&&(i.width=window.innerWidth*.8,i.height=window.innerHeight*.8)};return M(()=>{n(),window.addEventListener("resize",n),a.startGame()}),T(()=>{window.removeEventListener("resize",n)}),(i,u)=>(H(),E(K,{class:"fle x"},{default:Q(()=>[q("canvas",{ref_key:"canvasRef",ref:r},null,512)]),_:1}))}}),ee=(t,r)=>{const a=t.__vccOpts||t;for(const[n,i]of r)a[n]=i;return a},te=ee(R,[["__scopeId","data-v-b534e6d0"]]),ne={class:"q-ma-xl q-pb-xl"},re=$({__name:"IndexPage",setup(t){return(r,a)=>(H(),E(K,{class:"row justify-evenly"},{default:Q(()=>[q("div",ne,[J(te)])]),_:1}))}});export{re as default};
