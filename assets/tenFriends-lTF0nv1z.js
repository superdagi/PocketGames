import{c as O,g as X,f as E,a as Q,h as Y,e as H,j as _,E as W,r as G,o as N,G as B}from"./index-U0NWN0gI.js";import{h as K}from"./render-DKBelrib.js";const D=O({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:v}){const{proxy:{$q:h}}=X(),r=H(_,E);if(r===E)return console.error("QPage needs to be a deep child of QLayout"),E;if(H(W,E)===E)return console.error("QPage needs to be child of QPageContainer"),E;const p=Q(()=>{const i=(r.header.space===!0?r.header.size:0)+(r.footer.space===!0?r.footer.size:0);if(typeof e.styleFn=="function"){const o=r.isContainer.value===!0?r.containerHeight.value:h.screen.height;return e.styleFn(i,o)}return{minHeight:r.isContainer.value===!0?r.containerHeight.value-i+"px":h.screen.height===0?i!==0?`calc(100vh - ${i}px)`:"100vh":h.screen.height-i+"px"}}),a=Q(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>Y("main",{class:a.value,style:p.value},K(v.default))}}),q="ABCDEFGHIJKLMNOPQRSTUVWXYÆØÅ".split("");function J(e){const v="/PocketGames/",h=new Audio(v+"/sounds/correct.wav"),r=new Audio(v+"/sounds/fail.mp3"),f=G(0),p=G(0);let a="",i=[],o=[],n=null,m=null;function b(){return q[Math.floor(Math.random()*q.length)]??"A"}function F(t){const s=new Set;s.add(t.toLowerCase());const u=Math.floor(f.value/20)*5,c=Math.min(5+u,25);for(;s.size<c;)s.add(b().toLowerCase());return Array.from(s).sort(()=>Math.random()-.5)}function L(){if(!e.value)return;const t=e.value;if(n=t.getContext("2d"),!n)return;n.clearRect(0,0,t.width,t.height),y&&(n.strokeStyle=y,n.lineWidth=10,n.strokeRect(0,0,t.width,t.height)),n.font="80px Arial",n.fillStyle="black",n.textAlign="center",n.fillText(a,t.width/2,80),n.font="20px Arial",n.textAlign="right",n.fillStyle="blue",n.fillText(`Poeng: ${f.value}`,t.width-10,30),n.textAlign="left",n.fillStyle="red",n.fillText(`Feil: ${p.value}`,10,30),n.font="40px Arial",n.fillStyle="black",n.textAlign="center";const s=i.length,u=5,c=Math.ceil(s/u),d=70;o=[];for(let g=0;g<c;g++){const k=g*u,A=Math.min(k+u,s)-k;if(A===0)continue;const P=t.width/(A+1);for(let S=0;S<A;S++){const $=P*(S+1),I=200+g*d,z=i[k+S];z&&(o.push({x:$,y:I,letter:z}),n.fillText(z,$,I))}}m=requestAnimationFrame(L)}function x(){console.log("Letter game has started"),a=b(),i=F(a),L()}let y=null,C=null;function w(t){if(!e.value)return;const s=e.value.getBoundingClientRect(),u=t.clientX-s.left,c=t.clientY-s.top;o.forEach(d=>{u>d.x-20&&u<d.x+20&&c>d.y-40&&c<d.y+35&&(d.letter===a.toLowerCase()?(f.value++,y="rgba(0, 255, 0, 0.5)",h.currentTime=0,h.play(),setTimeout(x,200)):(p.value++,y="rgba(255, 0, 0, 0.5)",r.currentTime=0,r.play()),C&&clearTimeout(C),C=setTimeout(()=>{y=null},300))})}const T=()=>{e.value&&(e.value.width=window.innerWidth*.8,e.value.height=window.innerHeight*.6,L())};N(()=>{if(!e.value)return;const t=e.value;n=t.getContext("2d"),n&&(T(),t.addEventListener("click",w),x())}),B(()=>{window.removeEventListener("resize",T),e.value&&e.value.removeEventListener("click",w),m!==null&&cancelAnimationFrame(m)});function l(){m!==null&&(cancelAnimationFrame(m),m=null),window.removeEventListener("resize",T),e.value&&e.value.removeEventListener("click",w)}return{score:f,mistakes:p,startGame:x,stopGame:l,handleClick:w,drawGame:L}}const V=(e,v)=>{const h=e.__vccOpts||e;for(const[r,f]of v)h[r]=f;return h};function Z(e){const v="/PocketGames/",h=new Audio(v+"/sounds/correct.wav"),r=new Audio(v+"/sounds/fail.mp3"),f=G(0),p=G(0);let a=[],i=[],o=null,n=null;function m(){return Math.floor(Math.random()*9)+1}function b(){const l=m(),t=10-l;if(t<1||t>9)return b();let s=m();for(;s===l||s===t;)s=m();const u=[];function c(){let M=0,A=0,P=!1;for(;!P;)M=Math.random()*(e.value.width-40),A=-Math.random()*80,P=u.every(S=>Math.abs(S.x-M)>50);return u.push({x:M,y:A}),{x:M,y:A}}const d=c(),g=c(),k=c();a.push({x:d.x,y:d.y,value:l,selected:!1,flashColor:null},{x:g.x,y:g.y,value:t,selected:!1,flashColor:null},{x:k.x,y:k.y,value:s,selected:!1,flashColor:null})}function F(){i=[],a=[],b()}function L(){for(a.forEach(l=>l.y+=.3),a=a.filter(l=>l.y<e.value.height);a.length<3;)b()}function x(){if(!o||!e.value)return;const l=e.value;o.clearRect(0,0,l.width,l.height),L();for(const t of a)o&&(o.beginPath(),o.arc(t.x+20,t.y+20,20,0,Math.PI*2),o.fillStyle=t.flashColor==="green"?"rgba(0, 255, 0, 0.7)":t.flashColor==="red"?"rgba(255, 0, 0, 0.7)":t.flashColor==="yellow"?"rgba(255, 255, 0, 0.7)":"rgb(79, 208, 240)",o.fill(),o.strokeStyle="black",o.stroke(),o.fillStyle="black",o.font="16px Arial",o.fillText(t.value.toString(),t.x+19,t.y+25));o.font="20px Arial",o.textAlign="right",o.fillStyle="blue",o.fillText(`Poeng: ${f.value}`,l.width-10,30),o.textAlign="left",o.fillStyle="red",o.fillText(`Feil: ${p.value}`,10,30),n=requestAnimationFrame(x)}function y(){i.length===2&&(i[0]&&i[1]&&i[0].value+i[1].value===10?(f.value+=1,i.forEach(l=>l.flashColor="green"),h.currentTime=0,h.play(),setTimeout(()=>{a=[],i=[],F()},300)):(p.value+=1,i.forEach(l=>l.flashColor="red"),r.currentTime=0,r.play(),setTimeout(()=>{i.forEach(l=>{l.flashColor=null,l.selected=!1}),i=[]},300)))}function C(l){if(!e.value)return;const t=e.value.getBoundingClientRect(),s=l.clientX-t.left,u=l.clientY-t.top;a.forEach(c=>{const d=s-(c.x+20),g=u-(c.y+20);Math.sqrt(d*d+g*g)<=20&&!c.selected&&(c.selected=!0,c.flashColor="yellow",i.push(c),y())})}const w=()=>{e.value&&(e.value.width=window.innerWidth*.8,e.value.height=window.innerHeight*.6,x())};N(()=>{if(!e.value)return;const l=e.value;o=l.getContext("2d"),o&&(w(),window.addEventListener("resize",w),l.addEventListener("click",C),F(),n||x())}),B(()=>{window.removeEventListener("resize",w),e.value&&e.value.removeEventListener("click",C),n!==null&&cancelAnimationFrame(n)});function T(){n!==null&&(cancelAnimationFrame(n),n=null),window.removeEventListener("resize",w),e.value&&e.value.removeEventListener("click",C),a=[],i=[]}return{score:f,mistakes:p,startGame:F,stopGame:T,drawGame:x}}export{D as Q,V as _,Z as a,J as u};
